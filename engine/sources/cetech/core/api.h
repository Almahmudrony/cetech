//! \addtogroup Plugin
//! \{
#ifndef CETECH_API_H
#define CETECH_API_H

//==============================================================================
// Includes
//==============================================================================

//==============================================================================
// Defines
//==============================================================================

#include "memory.h"

#define IMPORT_API(name) static struct name name;
#define USE_API(api, name) name = *(struct name*) (api)->first(#name)


//==============================================================================
// Enums
//==============================================================================

//==============================================================================
// Typedefs
//==============================================================================

//==============================================================================
// Api
//==============================================================================

//! Plugin expot api struct V0
struct api_v0 {
    void (*register_api)(const char* name, void* api);
    void* (*first)(const char* name);
};

void api_init(struct allocator *allocator);
void api_shutdown();
struct api_v0* api_get_v0();

#endif //CETECH_API_H
//! \}